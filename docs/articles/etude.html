<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Writing exercises with `{etude}` • etude</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Writing exercises with `{etude}`">
<meta property="og:description" content="etude">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">etude</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.3.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/etude.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="etude_files/header-attrs-2.1/header-attrs.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Writing exercises with <code>{etude}</code>
</h1>
            
      
      
      <div class="hidden name"><code>etude.Rmd</code></div>

    </div>

    
    
<div class="sourceCode" id="cb1"><html><body><pre class="r"><span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">etude</span>)</pre></body></html></div>
<p>The dictionary defines <em>étude</em> as</p>
<blockquote>
<p><em>A short musical composition, typically for one instrument, designed as an exercise to improve the technique or demonstrate the skill of the player.</em></p>
</blockquote>
<p>The <code>{etude}</code> R package provides support for writing collections of <em>exercises</em> that can be used flexibly with the various authoring and deployment tools in the R ecosystem. This includes Rmd documents–compiled into either HTML or LaTeX–as well as the <code>{learnr}</code> interactive tutorial system. Etude inter-operates with the <code>{submitr}</code> system for logging student interaction with exercises as well as the <code>{checkthis}</code> system for providing feedback on R statements executed by the student in a <code>{learnr}</code> tutorial.</p>
<p>Etude can be helpful in organizing, say, homeworks written for a textbook or a class semester. I wrote it to help keep manageable hundreds of statistics, data science, and calculus exercises which I publish in books (paper as well as online) and distribute to students in an online, interactive form that allows student submissions to be collected as the student is working with the exercises. Typically, each etude file is short, but there is no practical limit (other than good sense) for how much material can be put into one etude.</p>
<div id="an-etude-file" class="section level2">
<h2 class="hasAnchor">
<a href="#an-etude-file" class="anchor"></a>An <code>{etude}</code> file</h2>
<p>An <code>{etude}</code> file is a standard RMarkdown file. There is a YAML header to store metadata about the etude–topic, author, date, etc.–and to set parameters for compiling the Rmd file in the usual ways.</p>
<p>Each etude is intended to be compiled as a stand-alone document, so that authors can quickly repeat the usual write-compile-debug cycle without having to worry much about the larger system that the etude will fit in to. The <code>{etude}</code> package provides an automatic, consistent naming system that makes organizing large collections straightforward as well as facilities for including <em>answers</em> within the etude. The answers can be turned on and off at compile time to support, for instance, using exactly the same etude file in a set of exercises and in a separate answer key for those exercises.</p>
<p>The name for an etude file is, by default, created automatically. Names follow the pattern <em>organism</em>-<em>verb</em>-<em>object</em>.Rmd, for example <code>"cat-dig-bowl.Rmd"</code>. This convention takes advantage of the way short-term human memory works.</p>
<p>Answers in an etude file can be put in either of two formats:</p>
<ul>
<li>an <em>inline</em> statement appropriate for storing short answers, e.g. a word, phrase, or number.</li>
<li>a <em>paragraph</em> for longer answers stored in an RMarkdown chunk.</li>
</ul>
<p>Both formats can include <em>markdown</em> and LaTeX mathematics markup. The inline form can include inline R calculations. The paragraph form can include RMarkdown chunks that generate graphics, tables, and any of the other things an author might want to include as part of the answer.</p>
</div>
<div id="creating-a-new-etude-file" class="section level2">
<h2 class="hasAnchor">
<a href="#creating-a-new-etude-file" class="anchor"></a>Creating a new etude file</h2>
<p>The <code>{etude}</code> package includes two RStudio <em>add-ins</em> for creating new etudes. One of the addins is to create ordinary Rmd etudes, the other is to create <code>{learnr}</code> Rmd files. (An <em>add-in</em> is a function that can be invoked from the RStudio graphical user interface <em>via</em> the drop-down menu labeled “Addins”. Add-ins can also be bound to keyboard shortcuts.)</p>
<p>By default, the addins create etudes in the current working directory of the console, but there is also a command-line version that allows you to specify the directory explicitly. (The directory must have been created previously.) For instance:</p>
<div class="sourceCode" id="cb2"><html><body><pre class="r"><span class="kw pkg">etude</span><span class="kw ns">::</span><span class="fu">new_etude</span>(<span class="st">"inst/Exercises/"</span>)</pre></body></html></div>
<p>Note the forward slash that terminates the directory name. This is a reminder that <code>{etude}</code> will generate the name of the Rmd file. The file will be opened in the RStudio editor pane and saved automatically. Needless to say, the <code>new_etude()</code> function is intended only for interactive use in the R console, and not in an RMarkdown chunk.</p>
<p>Use <code><a href="../reference/new_etude_learnr.html">new_etude_learnr()</a></code> to create an etude configured for <code>{learnr}</code>.</p>
</div>
<div id="the-etude-template" class="section level2">
<h2 class="hasAnchor">
<a href="#the-etude-template" class="anchor"></a>The etude template</h2>
<p>The file created by the add-ins (or <code>new_etude()</code> or <code>new_learnr_etude()</code>) will look like this:</p>
<pre><code>---
chapter: "none yet"
author: "Danny Kaplan"
date: 2020-06-15 
version: 0.1
tags: [first, second, third]
id: walnut-throw-chair
---

```{r walnut-throw-chair-default, include = FALSE}
library(etude)
```

`r etude::exercise_title()`      Start content here.</code></pre>
<p>This file was named <code>"walnut-throw-chair.Rmd"</code>. The YAML header contains the date and author name (as determined by the <code><a href="https://rdrr.io/pkg/whoami/man/fullname.html">whoami::fullname()</a></code> function.) You are encouraged to provide more informative <code>tags:</code> for the etude, which can help in finding relevant etudes for a given topic. The <code>chapter:</code> field serves the same purpose, the name coming from the original motivation for <code>{etude}</code>: writing textbooks.</p>
<p>After the YAML header comes a <em>set-up</em> chunk. Add whatever additional lines needed for your exercise, retaining the <code><a href="https://rdrr.io/pkg/etude/man">library(etude)</a></code> line. Note that when etudes are collected into a mother document, each of the set-up chunks will be run at document compile time.</p>
<p>The template ends with “Start content here.” You should replace that with the actual beginning of your etude. The inline chunk preceding it, <code>r etude::exercise_title()</code> should be left as is. This will allow the mother document to specify the title for each exercise. (See <code><a href="../reference/include_etude.html">etude::include_etude()</a></code> for more about this.) It’s a good practice to keep the actual start of your exercise on the same line as <code>r etude::exercise_title()</code>. This practice allows the author of the mother document to choose between inline titles (e.g. <strong>Problem 43.</strong>) or titles that appear as a section heading (e.g. <code>### Problem 43\n"</code>).</p>
</div>
<div id="adding-knitr-chunks-to-an-etude" class="section level2">
<h2 class="hasAnchor">
<a href="#adding-knitr-chunks-to-an-etude" class="anchor"></a>Adding <code>{knitr}</code> chunks to an etude</h2>
<p>The content of your exercise may well include <code>{knitr}</code> chunks. It’s a recommended practice to <em>name</em> all such chunks. This is absolutely <em>required</em> for exercise and question chunks in <code>{learnr}</code>. The challenge is to come up with a name for the chunk that will be unique throughout the entire <em>mother</em> document. For a variety of reasons, it’s helpful if the names of chunks in an etude reflect the name of the etude document itself. You can see this in the setup chunk in the above example, which is named <code>walnut-throw-chair-default</code>.</p>
<p>You may, of course, create such chunks by hand. Etude provides a handy tool to do this. Type <code>etude::etudeC()</code> at the place you want to insert the chunk, then evaluate the command with command-return. This will insert a properly named chunk numbered in the sequence <em>etude name</em><code>-C1</code>, <code>-C2</code> and so on. There are analogous commands for inserting code-exercise and question chunks for <code>{learnr}</code> documents: <code>etudeE()</code> for code-exercises and <code>etudeS()</code> for code “sandboxes”, <code>etudeQ()</code> for <code>{learnr}</code>-format questions, <code>etudeQinline()</code> for a compact form of <code>{learnr}</code> question that can be rendered as markdown and hence suitable for HTML or LaTeX documents.</p>
</div>
<div id="learnr-questions" class="section level2">
<h2 class="hasAnchor">
<a href="#learnr-questions" class="anchor"></a><code>{learnr}</code> questions</h2>
<p>The <code><a href="../reference/true_or_false.html">etude::choose_one()</a></code> function is convenient for creating multiple-choice questions in a more concise format than <code><a href="https://rdrr.io/pkg/learnr/man/quiz.html">learnr::question()</a></code>. Since <code>{learnr}</code> documents require that questions be in a named chunk, you will likely want to use the <code>etude::etudeQinline()</code> shortcut to create a properly named chunk. This also pre-populates the chunk with an example call to <code><a href="../reference/true_or_false.html">etude::choose_one()</a></code>, as follows:</p>
<pre><code>```{r walnut-throw-chair-Qinline1, echo=FALSE}
# indicate correct choices with +_+ in the item.
etude::choose_one(
  prompt = "Which  is a vowel?",
  c("+A+", "B", "C"),
  random_answer_order = FALSE
)
```</code></pre>
<p>Correct answers are identified by surrounding the answer with +-signs. (These will not appear in the compiled document unless answer display is turned on.)</p>
<p>You can add <em>feedback</em> for each choice by using <code><a href="https://rdrr.io/r/base/list.html">list()</a></code> instead of <code><a href="https://rdrr.io/r/base/c.html">c()</a></code> and assigning the feedback as the value of each choice item, the name of which will be used as the printed value for the choice. For example:</p>
<p><code><a href="https://rdrr.io/r/base/list.html">list("+A+" = "Good!", "B" = "This is called a *consonant*", "C" = "Try again")</a></code></p>
<p>Note that the list names (e.g. <code>"+A+"</code>) are quoted. This allows otherwise illegal characters such as + or space to be included in the name. Even long names are permitted this way.</p>
<p>Sometimes, choices are numeric. Two points here:</p>
<ul>
<li>You must put the + choices in quotes, but not the other numbers, e.g. <code><a href="https://rdrr.io/r/base/c.html">c(1, 2, "+3", 4, 5)</a></code>.</li>
<li>Typically with numeric choices you will want to set <code>random_answer_order = FALSE</code> so that the choices consistently appear in order.</li>
</ul>
<p>There is also an argument, <code>inline = TRUE</code>, that causes the question to be displayed in a compact form. Set it to <code>FALSE</code> if you want to ensure that each choice is presented on its own line.</p>
<p>Note also two other question types provided by <code>{etude}</code>:</p>
<ul>
<li><code><a href="../reference/true_or_false.html">true_or_false()</a></code></li>
<li><code><a href="../reference/essay_response.html">essay_response()</a></code></li>
</ul>
<p>When any of these functions is used in a non-<code>{learnr}</code> document, the questions will be rendered as markdown.</p>
<div class="sourceCode" id="cb5"><html><body><pre class="r"><span class="kw pkg">etude</span><span class="kw ns">::</span><span class="fu"><a href="../reference/true_or_false.html">true_or_false</a></span>(<span class="st">"1. Can you see the sun at night?"</span>, <span class="fl">FALSE</span>)</pre></body></html></div>
<p><strong>1. Can you see the sun at night?</strong>     </p>
<p>⚀ Right    ⚀ Wrong</p>
<div class="sourceCode" id="cb6"><html><body><pre class="r"><span class="kw pkg">etude</span><span class="kw ns">::</span><span class="fu"><a href="../reference/essay_response.html">essay_response</a></span>(<span class="st">"2. Explain why the sky is blue."</span>)</pre></body></html></div>
<ol start="2" style="list-style-type: decimal">
<li>Explain why the sky is blue. <strong>Essay answer.</strong>
</li>
</ol>
<div class="sourceCode" id="cb7"><html><body><pre class="r"><span class="kw pkg">etude</span><span class="kw ns">::</span><span class="fu"><a href="../reference/true_or_false.html">choose_one</a></span>(
  <span class="kw">prompt</span> <span class="kw">=</span> <span class="st">"3. Which  is a vowel?"</span>,
  <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="st">"+A+"</span> <span class="kw">=</span> <span class="st">""</span>, <span class="st">"B"</span> <span class="kw">=</span> <span class="st">""</span>, <span class="st">"C"</span> <span class="kw">=</span> <span class="st">""</span>),
  <span class="kw">random_answer_order</span> <span class="kw">=</span> <span class="fl">FALSE</span>
)</pre></body></html></div>
<p><strong>3. Which is a vowel?</strong>     </p>
<p>⚀ A    ⚀ B    ⚀ C</p>
</div>
<div id="displaying-answers" class="section level2">
<h2 class="hasAnchor">
<a href="#displaying-answers" class="anchor"></a>Displaying answers</h2>
<p>The function <code><a href="../reference/show_answers.html">etude::show_answers(TRUE)</a></code> controls whether answers or displayed or not renderings of an etude. By default, answer display is turned off.</p>
<p>During the development phase of an etude, you may want to use <code><a href="../reference/show_answers.html">show_answers(TRUE)</a></code> in the setup chunk of your etude. But <strong>take it out</strong> when development is complete so that the display of answers can be controlled from the mother document. For someone such as myself, this is a bit error prone. I therefore use <code><a href="../reference/show_answers.html">show_answers(TRUE)</a></code> only in a <em>mother</em> document, debugging answers by reading the mother document and applying the needed changes to the etude child document.</p>
<p>When you have longer-form answers, put them in an <code>etude</code> <code>{knitr}</code>-engine chunk.</p>
<pre><code>````{etude}
Long answer here
````</code></pre>
<p>Note that I’ve used <em>four</em> backticks so that I can include a regular three-tick R chunk <em>inside</em> the answer if I want.</p>
</div>
<div id="organizing-etude-files-in-a-package" class="section level2">
<h2 class="hasAnchor">
<a href="#organizing-etude-files-in-a-package" class="anchor"></a>Organizing etude files in a package</h2>
<p>Individual etudes are merely Rmd files, which may be stored in any way that you like. Often, however, you may have a large collection to manage and you may be using them in a collaboration with other authors or teachers. Such coordinated management of a collection of files is well accomplished with git and GitHub or other similar software.</p>
<p>I’ll go one step beyond this and suggest that an R package can be a way to manage and share etudes. The individual Rmd files are stored in the <code>inst</code> package directory (and sub-directories of this) and can be accessed with the R <code><a href="https://rdrr.io/r/base/system.file.html">system.file()</a></code> command. It’s a good idea to refer to static image files (as opposed to those generated by R) <em>within</em> the etudes using <code><a href="https://rdrr.io/r/base/system.file.html">system.file()</a></code>. There can be a little confusion due to the need to rebuild the package before compiling the etudes, but the author is reminded of this when images fail to appear.</p>
</div>
<div id="mother-documents" class="section level2">
<h2 class="hasAnchor">
<a href="#mother-documents" class="anchor"></a>Mother documents</h2>
<p>Throughout this vignette, I’ve referred to “mother documents.” This is my term for an Rmd file that draws into it one or more etudes for compilation together. An example will suffice.</p>
<pre><code>---
title: "Homework #3"
author: "Stats 121, Prof. Null"
date: "Oct. 15, 2021"
output: rmarkdown::html_document
---

Do these exercises before class on Thursday:

`r include_etude(system.file("dog-drink-ring.Rmd", package="Stat121"), "**Problem 1.**")`

`r include_etude(system.file("bee-feel-oven.Rmd", package="Stat121"), "**Problem 2.**")`

`r include_etude(system.file("finch-chew-sofa.Rmd", package="Stat121"), "**Extra credit.**")`
</code></pre>
<p>````</p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Daniel Kaplan.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
